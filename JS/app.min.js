(()=>{"use strict";var e={818:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(645),o=r.n(a)()((function(e){return e[1]}));o.push([e.id,"@media screen and (max-width: 900px){.searchBox{width:50%}}@media screen and (max-width: 600px){:root{--br: 26px}.headerUp{height:50px}.headerUp .logo{font-size:40px}.headerUp .nameApp{display:none}.btnBar{width:50px;height:50px;font-size:30px}#gps{right:10px}#search{right:70px}.searchBox{width:100%;padding:0 70px 0 60px}.barStyle{height:50px}.resultBox{left:60px;width:calc(100% - 130px)}.resultBox .closeBtn{width:50px;height:50px;font-size:30px}.cardBox{--fAqi: 46px;--fBig: 22px;--fMid: 16px;width:96%}}\n",""]);const s=o},192:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(645),o=r.n(a)()((function(e){return e[1]}));o.push([e.id,'*{box-sizing:border-box}input{outline-style:none}html,body{margin:0;padding:0}:root{--br: 16px;--font: 16px;--principalColor: rgb(0, 132, 255)}.screen{position:fixed;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;width:100%;min-height:100%;height:100%}.header{--flogo: 60px;--fname: 40px;position:fixed;display:flex;align-items:center;justify-content:center;top:calc(50% - 70px);width:100%;height:36px}.header .logo{font-size:var(--flogo);color:var(--principalColor)}.header .nameApp{font-family:\'Roboto\';font-size:var(--fname);font-weight:400;margin:0;padding:0;padding-left:4px}.headerUp{--flogo: 30px;--fname: 22px;position:fixed;display:flex;align-items:center;justify-content:flex-start;top:10px;left:10px;width:100%;height:36px}.btnBar{display:flex;justify-content:center;align-items:center;width:36px;height:36px;font-size:22px;transition:0.2s;z-index:200;cursor:pointer}#gps{position:absolute;border:1px solid rgba(0,0,0,0.2);border-radius:50%;right:-46px}#search{position:absolute;right:0;color:rgba(0,0,0,0.4)}.pending{color:#ffa51d}.success{color:var(--principalColor)}.err{background:#da2323;color:white}.searchBox{position:relative;display:flex;justify-content:center;align-items:center;width:500px}.searchBox form{display:flex;width:100%;justify-content:center}.barStyle{width:100%;height:36px;padding:6px 20px 6px 20px;border:1px solid rgba(0,0,0,0.2);border-radius:var(--br);font-family:\'Roboto\';font-size:var(--font)}.resultBox{position:absolute;display:flex;flex-direction:column;align-items:center;overflow:hidden;width:100%;border-radius:var(--br);z-index:500}.resultBox .closeBtn{position:absolute;display:flex;justify-content:center;align-items:center;right:0;width:36px;height:36px;font-size:22px;color:rgba(0,0,0,0.3);cursor:pointer}.resultBox .closeBtn:hover{color:#af3333}.resultBox .datalist{display:flex;flex-direction:column;overflow:hidden;width:100%;border-radius:0 0 var(--br) var(--br);background:white}.resultBox .datalist .option{padding:6px 10px 6px 20px;font-size:var(--font)}.resultBox .datalist .option:hover{background:#ccc}.open{border-radius:var(--br) var(--br) 0 0;border:none;overflow:clip}.close{display:none !important}.shadow{box-shadow:0 0px 2px rgba(0,0,0,0.3),0 8px 10px rgba(0,0,0,0.2) !important}.hidden{display:none}.fix{position:relative}.upper{justify-content:flex-start;row-gap:10px;padding-top:10px}.cardBox{--fAqi: 60px;--fBig: 36px;--fMid: 18px;--fSml: 16px;--fAle: 22px;display:grid;grid-template-columns:30% 70%;grid-template-rows:auto;grid-template-areas:"aqi city"\r "aqi station"\r "alert alert"\r "tips tips"\r "gtitle gtitle"\r "graph graph";overflow:hidden;border-radius:var(--br);width:600px;font-family:\'Roboto\';box-shadow:0 4px 10px rgba(0,0,0,0.2);transition:0.2s}.cardBox .city{grid-area:city;font-size:var(--fBig);text-align:end;padding:10px 20px 0 20px;color:white;text-shadow:0 0 4px rgba(0,0,0,0.3)}.cardBox .station{grid-area:station;font-size:var(--fMid);padding:10px 20px 0 20px;text-align:end;color:white;text-shadow:0 0 4px rgba(0,0,0,0.3)}.cardBox .aqi{grid-area:aqi;display:flex;align-items:baseline;text-align:start;padding:10px 20px 0 20px;color:white;text-shadow:0 0 4px rgba(0,0,0,0.3)}.cardBox .aqi .aqiNum{font-size:var(--fAqi)}.cardBox .aqi .aqiNam{font-size:var(--fBig)}.cardBox .alert{grid-area:alert;padding:0 0 10px 20px;text-align:start;text-transform:uppercase;font-size:var(--fMid);font-weight:600;letter-spacing:4px;color:white;text-shadow:0 0 4px rgba(0,0,0,0.3)}.cardBox .tips{padding:20px;grid-area:tips;font-size:var(--fMid);font-weight:300}.cardBox .gtitle{grid-area:gtitle;text-align:center;font-size:var(--fSml);font-weight:800;letter-spacing:5px;color:rgba(0,0,0,0.4)}.cardBox .graph{position:relative;grid-area:graph;width:100%;height:150px;display:grid;grid-template-columns:25% 25% 25% 25%;grid-template-rows:auto 20%;grid-template-areas:"pm25g pm10g no2g o3g"\r "pm25 pm10 no2 o3";justify-items:center;align-items:flex-end}.cardBox .graph .grid{grid-area:1 / 1 / span 1 / span 4;grid-template-columns:auto;grid-template-rows:auto auto auto auto auto auto;grid-template-areas:"bar5"\r "bar4"\r "bar3"\r "bar2"\r "bar1"\r "bar0";width:100%;height:100%;display:grid}.cardBox .graph .grid .bar{width:100%;height:1px;background:rgba(0,0,0,0.1)}.cardBox .graph .grid .bar0{grid-area:bar0}.cardBox .graph .grid .bar1{grid-area:bar1}.cardBox .graph .grid .bar2{grid-area:bar2}.cardBox .graph .grid .bar3{grid-area:bar3}.cardBox .graph .grid .bar4{grid-area:bar4}.cardBox .graph .ps{padding:5px;height:100%;width:100%;border-top:1px solid rgba(0,0,0,0.2);text-align:center;font-size:var(--fSml);font-weight:800;color:rgba(0,0,0,0.5)}.cardBox .graph .pm25{grid-area:pm25}.cardBox .graph .pm10{grid-area:pm10}.cardBox .graph .no2{grid-area:no2}.cardBox .graph .o3{grid-area:o3}.cardBox .graph .gbox{width:30px}.cardBox .graph .pm25g{--h: 0%;grid-area:pm25g;height:var(--h);background:var(--color)}.cardBox .graph .pm10g{--h: 0%;grid-area:pm10g;height:var(--h);background:var(--color)}.cardBox .graph .no2g{--h: 0%;grid-area:no2g;height:var(--h);background:var(--color)}.cardBox .graph .o3g{--h: 0%;grid-area:o3g;height:var(--h);background:var(--color)}.cardBox:hover{box-shadow:0 10px 10px rgba(0,0,0,0.4)}.good{background:#6c9918}.moderate{background:#228cac}.bitUnhealthy{background:#eb9d0c}.unhealthy{background:#dd0a0a}.veryUnhealthy{background:#991919}.hazard{background:#8c00ff}.statusBar{position:fixed;display:flex;justify-content:center;font-family:\'Roboto\';width:100%;bottom:0;transition:0.2s}.err{background:red}.collapse{bottom:-20px}.noResult{display:flex;justify-content:center;top:0;box-shadow:none;text-align:center;width:100%}.noResult:hover{box-shadow:none}\n',""]);const s=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,a){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(a)for(var s=0;s<this.length;s++){var n=this[s][0];null!=n&&(o[n]=!0)}for(var i=0;i<e.length;i++){var l=[].concat(e[i]);a&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},379:(e,t,r)=>{var a,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),s=[];function n(e){for(var t=-1,r=0;r<s.length;r++)if(s[r].identifier===e){t=r;break}return t}function i(e,t){for(var r={},a=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=r[l]||0,d="".concat(l," ").concat(c);r[l]=c+1;var p=n(d),g={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(s[p].references++,s[p].updater(g)):s.push({identifier:d,updater:y(g,t),references:1}),a.push(d)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var s=r.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var n=o(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,r,a){var o=r?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var s=document.createTextNode(o),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(s,n[t]):e.appendChild(s)}}function g(e,t,r){var a=r.css,o=r.media,s=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var h=null,u=0;function y(e,t){var r,a,o;if(t.singleton){var s=u++;r=h||(h=l(t)),a=p.bind(null,r,s,!1),o=p.bind(null,r,s,!0)}else r=l(t),a=g.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var r=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<r.length;a++){var o=n(r[a]);s[o].references--}for(var l=i(e,t),c=0;c<r.length;c++){var d=n(r[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}r=l}}}}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={id:a,exports:{}};return e[a](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(379),t=r.n(e),a=r(192);t()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var o=r(818);t()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;const s=document.querySelector("#search"),n=document.querySelector("#gps"),i="5bd17011f5161ab53342dd6fd5c2dcc3aafb3be0";let l,c,d,p,g=document.querySelector(".statusBar"),h=document.querySelector(".screen"),u=document.querySelector(".header"),y=document.querySelector(".searchBar"),f=document.querySelector(".cardBox");window.addEventListener("load",(()=>{const e=document.querySelector("#status");navigator.geolocation?(n.classList.add("pending"),navigator.geolocation.getCurrentPosition((function(){n.classList.add("success"),e.textContent=""}),(function(){n.classList.add("err"),e.textContent="Geolocation is not supported by your browser",g.classList.add("err"),g.classList.add("collapse")}))):n.style.color="gray"})),n.addEventListener("click",(()=>{const e=document.querySelector("#status");navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.textContent="",n.classList.contains("err")&&n.classList.remove("err"),n.classList.add("success");x(t.coords.latitude,t.coords.longitude)}),(function(){e.textContent="Unable to retrieve your location",n.classList.add("err"),g.classList.add("err")})):(e.textContent="Geolocation is not supported by your browser",g.classList.add("err"),g.classList.add("collapse"))}));let b=document.input.city;function x(e,t){fetch(`https://api.waqi.info/feed/geo:${e};${t}/?token=${i}`).then((e=>e.json())).then((e=>{console.log(e.data);const t=e.data;let r,a,o,s,n=t.city.name.split(", ")[0],i=t.city.name.split(", ")[1],l=t.aqi;try{r=t.iaqi.pm25.v}catch(e){r=0}try{a=t.iaqi.pm10.v}catch(e){a=0}try{o=t.iaqi.no2.v}catch(e){o=0}try{s=t.iaqi.o3.v}catch(e){s=0}null==n&&(n=i),null==i&&(i=""),function(e,t,r,a,o,s,n){f.classList.contains("noResult")&&f.classList.remove("noResult"),h.classList.add("upper"),u.classList.add("headerUp"),f.innerHTML=`<span class='city alertBG'>${e}</span>\n  <span class='station alertBG'>${t}</span>\n  <div class="aqi alertBG">\n  <span class='aqiNum'>${r}</span><span class='aqiNam'>AQI</span>\n  </div>\n  <span class="alert alertBG"></span>\n  <div class="tips"></div>\n  <span class="gtitle">MAIN POLLUTANTS</span>\n  <div class="graph">\n  <div class="grid">\n  <div class="bar4 bar"></div>\n  <div class="bar3 bar"></div>\n  <div class="bar2 bar"></div>\n  <div class="bar1 bar"></div>\n  <div class="bar0 bar"></div>\n  </div>\n  \n  <span class="pm25 ps">PM2.5</span>\n  <span class="pm25g gbox"></span>\n  <span class="pm10 ps">PM10</span>\n  <span class="pm10g gbox"></span>\n  <span class="no2 ps">NO<sub>2</sub></span>\n  <span class="no2g gbox"></span>\n  <span class="o3 ps">O<sub>3</sub></span>\n  <span class="o3g gbox"></span>\n  </div>`;let i=document.querySelectorAll(".alertBG"),l=document.querySelector(".alert"),c=r,d=document.querySelector(".tips");for(let e=0;e<i.length;e++)switch(!0){case c<=50:i[e].classList.add("good"),l.innerHTML="Good",d.innerHTML="Air quality is considered satisfactory, and air pollution poses little or no risk.";break;case c>50&&c<100:i[e].classList.add("moderate"),l.innerHTML="Moderate",d.innerHTML="Air quality is acceptable.<br> However, for some pollutants there may be a moderate health concern for a very small number of people who are unusually sensitive to air pollution.";break;case c>100&&c<150:i[e].classList.add("bitUnhealthy"),l.innerHTML="Unhealthy for Sensitive Groups",d.innerHTML="Members of sensitive groups may experience health effects.<br> The general public is not likely to be affected.";break;case c>150&&c<200:i[e].classList.add("unhealthy"),l.innerHTML="Unhealthy",d.innerHTML="Everyone may begin to experience health effects.<br>Members of sensitive groups may experience more serious health effects";break;case c>200&&c<300:i[e].classList.add("veryUnhealthy"),l.innerHTML="Very Unhealthy",d.innerHTML="Health warnings of emergency conditions.<br>The entire population is more likely to be affected.";break;case c>=300:i[e].classList.add("hazard"),l.innerHTML="Hazardous",d.innerHTML="Health alert: everyone may experience more serious health effects"}let p=document.querySelector(".pm10g"),g=document.querySelector(".pm25g"),y=document.querySelector(".no2g"),b=document.querySelector(".o3g");switch(!0){case 0==o:p.style.setProperty("--h","0%");break;case o>0&&o<=50:p.style.setProperty("--h","16%"),p.style.setProperty("--color","rgb(108, 153, 24)");break;case o>50&&o<=100:p.style.setProperty("--h","32%"),p.style.setProperty("--color","rgb(25, 174, 219)");break;case o>100&&o<=250:p.style.setProperty("--h","48%"),p.style.setProperty("--color","rgb(235, 157, 12)");break;case o>250&&o<=350:p.style.setProperty("--h","65%"),p.style.setProperty("--color","rgb(221, 10, 10)");break;case o>350&&o<=430:p.style.setProperty("--h","75%"),p.style.setProperty("--color","rgb(153, 25, 25)");break;case o>=430:p.style.setProperty("--h","100%"),p.style.setProperty("--color","rgb(153, 25, 25)")}switch(!0){case 0==a:g.style.setProperty("--h","0%");break;case a>0&&a<=30:g.style.setProperty("--h","16%"),g.style.setProperty("--color","rgb(108, 153, 24)");break;case a>30&&a<=60:g.style.setProperty("--h","32%"),g.style.setProperty("--color","rgb(25, 174, 219)");break;case a>60&&a<=90:g.style.setProperty("--h","48%"),g.style.setProperty("--color","rgb(235, 157, 12)");break;case a>90&&a<=120:g.style.setProperty("--h","65%"),g.style.setProperty("--color","rgb(221, 10, 10)");break;case a>120&&a<=250:g.style.setProperty("--h","75%"),g.style.setProperty("--color","rgb(153, 25, 25)");break;case a>=250:g.style.setProperty("--h","100%"),g.style.setProperty("--color","rgb(153, 25, 25)")}switch(!0){case 0==s:y.style.setProperty("--h","0%");break;case s>0&&s<=40:y.style.setProperty("--h","16%"),y.style.setProperty("--color","rgb(108, 153, 24)");break;case s>40&&s<=80:y.style.setProperty("--h","32%"),y.style.setProperty("--color","rgb(25, 174, 219)");break;case s>80&&s<=180:y.style.setProperty("--h","48%"),y.style.setProperty("--color","rgb(235, 157, 12)");break;case s>180&&s<=280:y.style.setProperty("--h","65%"),y.style.setProperty("--color","rgb(221, 10, 10)");break;case s>280&&s<=400:y.style.setProperty("--h","75%"),y.style.setProperty("--color","rgb(153, 25, 25)");break;case s>=400:y.style.setProperty("--h","100%"),y.style.setProperty("--color","rgb(153, 25, 25)")}switch(!0){case 0==n:b.style.setProperty("--h","0%");break;case n>0&&n<=50:b.style.setProperty("--h","16%"),b.style.setProperty("--color","rgb(108, 153, 24)");break;case n>50&&n<=100:b.style.setProperty("--h","32%"),b.style.setProperty("--color","rgb(25, 174, 219)");break;case n>100&&n<=170:b.style.setProperty("--h","48%"),b.style.setProperty("--color","rgb(235, 157, 12)");break;case n>170&&n<=210:b.style.setProperty("--h","65%"),b.style.setProperty("--color","rgb(221, 10, 10)");break;case n>210&&n<=750:b.style.setProperty("--h","75%"),b.style.setProperty("--color","rgb(153, 25, 25)");break;case n>=750:b.style.setProperty("--h","100%"),b.style.setProperty("--color","rgb(153, 25, 25)")}}(n,i,l,r,a,o,s)}))}s.addEventListener("click",(()=>{const e=`https://api.waqi.info/search/?token=${i}&keyword=${b.value}`;""==b.value?b.placeholder="Please, type something":fetch(e).then((e=>e.json())).then((e=>{const t=e.data;console.log(t);let r=new RegExp(/[,|;| |-]/gi);p=b.value.replace(r,"").toLowerCase(),console.log(p);let a="\\b"+p+"\\b",o=new RegExp(p),n=new RegExp(a,"gi"),i=t.filter((e=>o.test(e.station.name.replace(r,"").toLowerCase()))),g=i.filter((e=>n.test(e.station.name.replace(r," ").toLowerCase())));0==g.length&&(g=i),function(e){if(e.length>1){console.log(e),function(e){l=document.createElement("div"),c=document.createElement("input"),d=document.createElement("div");let t=document.createElement("div");c.value=e,c.classList.add("barStyle"),c.classList.add("open"),d.classList.add("datalist"),l.classList.add("resultBox"),l.classList.add("shadow"),s.classList.add("hidden"),t.classList.add("closeBtn"),t.innerHTML='<span class="iconify" data-icon="mdi:close" data-inline="false"></span>',c.setAttribute("type","text"),y.insertAdjacentElement("afterend",l),l.appendChild(c),l.appendChild(t),c.insertAdjacentElement("afterend",d),c.onclick=()=>{c.classList.toggle("open"),l.classList.toggle("shadow"),d.classList.toggle("close")},c.oninput=()=>{""==c.value&&(s.classList.contains("hidden")&&s.classList.remove("hidden"),l.remove(),y.value="")},window.addEventListener("click",(function(e){l.contains(e.target)||c.classList.contains("open")&&c.click()})),t.onclick=()=>{s.classList.remove("hidden"),l.remove()}}(p),d=document.querySelector(".datalist");for(let t=0;t<e.length;t++){let r=document.createElement("span");r.classList.add("option"),r.innerHTML=e[t].station.name,d.appendChild(r),r.onclick=()=>{x(e[t].station.geo[0],e[t].station.geo[1]),l.remove(),s.classList.remove("hidden"),y.value=e[t].station.name.split(", ")[0]}}}else 1==e.length?x(e[0].station.geo[0],e[0].station.geo[1]):(h.classList.add("upper"),u.classList.add("headerUp"),f.innerHTML=`Sorry, it seems there are no results for "${b.value}" `,f.classList.add("noResult"))}(g)}))})),y.addEventListener("keydown",(function(e){if(!e.defaultPrevented){switch(e.key){case"Enter":s.click();break;default:return}e.preventDefault()}}),!0)})()})();